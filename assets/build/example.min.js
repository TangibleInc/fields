var v=Object.defineProperty;var u=(i,c)=>v(i,"name",{value:c,configurable:!0});(function(){"use strict";(function(){const t={NODE_ENV:"production"};try{if(process){process.env=Object.assign({},process.env),Object.assign(process.env,t);return}}catch{}globalThis.process={env:t}})();var i=Object.defineProperty,c=u((t,l)=>i(t,"name",{value:l,configurable:!0}),"s$1");const y=c(()=>{const t=document.getElementById("tf-example-custom-types"),l=t.getAttribute("data-value"),r=c(e=>{const{initJSON:m}=tangibleFields.utils,[n,s]=wp.element.useState(m(e.value??{}));return wp.element.useEffect(()=>{e.onChange&&e.onChange(n)},[n]),wp.element.createElement("div",{className:"tf-custom-type",style:{display:"flex"}},wp.element.createElement("input",{type:"hidden",name:e.name??"",value:JSON.stringify(n)}),wp.element.createElement("div",null,wp.element.createElement("strong",null,"Character attributes:"),wp.element.createElement("hr",null),tangibleFields.render({label:"First name",type:"text",value:n.firstName??"",onChange:a=>s({...n,firstName:a})}),tangibleFields.render({label:"Last name",type:"text",value:n.lastName,onChange:a=>s({...n,lastName:a})}),wp.element.createElement("hr",null),tangibleFields.render({label:"Avatar",type:"file",maxUpload:1,wp_media:!1,value:n.avatar??"",onChange:a=>s({...n,avatar:a}),mimeTypes:["image"]})))},"MyCustomField");tangibleFields.types.add("custom-type",r),wp.element.createRoot(t).render(tangibleFields.render({type:"custom-type",name:"custom-field-example",value:l}))},"initExample");var g=Object.defineProperty,p=u((t,l)=>g(t,"name",{value:l,configurable:!0}),"n");const b=p(()=>{const t=document.getElementById("tf-example-custom-combobox-layout"),l=p(e=>tangibleFields.render(e),"Field"),r=wp.element.forwardRef((e,m)=>{if(!e.multiple)throw new Error("This layout only support multiple values");const{add:n,remove:s,values:a}=e.multiple;return wp.element.createElement(wp.element.Fragment,null,wp.element.createElement("code",{style:{display:"flex",width:"100%",padding:5,boxSizing:"border-box",flexDirection:"column"}},a.length!==0?wp.element.createElement(wp.element.Fragment,null,"Selected values are:",wp.element.createElement("br",null),wp.element.createElement("ul",null,a.map(o=>wp.element.createElement("li",{key:o.key}," - ",o," ")))):"No value selected"),wp.element.createElement("input",{type:"text",style:{display:"flex",width:"100%"},...e.inputProps,ref:m.current.input}),wp.element.createElement("ul",null,[...e.state.collection].map(o=>wp.element.createElement("li",{key:o.key,style:{display:"flex",border:"solid 1px black",padding:5}},wp.element.createElement(l,{type:"checkbox",label:o.textValue,labelVisuallyHidden:!0,value:a.includes(o.key),onChange:d=>{d!==a[o.key]&&(d===!0?n(o.key):s(a.indexOf(o.key)))}}),o.textValue)),e.state.collection.iterable.length===0&&wp.element.createElement("li",{key:"no-results"},"No results")))});wp.element.createRoot(t).render(tangibleFields.render({label:"Custom combobox",type:"combo-box",name:"custom-combo-box-example",value:"",multiple:!0,onChange:e=>console.log(e),layout:r,choices:{value1:"Example value 1",value2:"Second example value",value3:"An example: third part",value4:"The last example (4)"}}))},"initCombobox");window.addEventListener("load",()=>{const t=document.getElementById("tf-context-select");t.addEventListener("change",()=>{const e=new URL(location.href),m=new URLSearchParams(e.search);m.set("context",t.value),location.replace(location.protocol+"//"+location.host+location.pathname+"?"+m.toString())}),document.getElementById("tf-example-custom-types")&&y(),document.getElementById("tf-example-custom-combobox-layout")&&b();const l=document.getElementsByClassName("tf-dynamic-value-trigger-js"),r=document.getElementsByClassName("tf-dynamic-value-content-js");if(l.length!==0)for(let e=0;e<l.length;e++)l[e].addEventListener("click",()=>{jQuery(".tf-dynamic-value-content-js").attr("style","display: none"),r[e].setAttribute("style","")})})})();
